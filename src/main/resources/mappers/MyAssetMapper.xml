<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.myasset.myasset.mapper.MyAssetMapper">
    <select id="selectTrList" parameterType="com.myasset.myasset.vo.MyAssetVo" resultType="com.myasset.myasset.vo.MyAssetVo">
        SELECT 
            ASSET_NM assetNm,
            ASSET_CATG_NM assetCatgNm,
            TR_METHOD trMethod,
            TR_AMT trAmt,
            TR_PRICE trPrice,
            TR_TOTPRICE trTotprice,
            TR_COST trCost,
            TR_RESULT trResult,
            TR_EARNRATE trEarnrate,
            TR_DATE trDate
        FROM TRADE_RECORD
        WHERE 1 = 1
        <if test="assetNm != null and assetNm != ''">
        AND ASSET_NM = #{assetNm}
        </if>
        <if test="trMethod != null and trMethod != ''">
        AND TR_METHOD = #{trMethod}
        </if>
        ORDER BY TR_DATE
        LIMIT #{recordCountPerPage} OFFSET #{pageIndex}
    </select>

    <select id="selectTrListCnt" parameterType="com.myasset.myasset.vo.MyAssetVo" resultType="String">
        SELECT COUNT(*)
        FROM TRADE_RECORD
        WHERE 1 = 1
        <if test="assetNm != null and assetNm != ''">
        AND ASSET_NM = #{assetNm}
        </if>
        <if test="trMethod != null and trMethod != ''">
        AND TR_METHOD = #{trMethod}
        </if>
        ORDER BY TR_DATE
    </select>

    <select id="selectMyAssetInfo" parameterType="com.myasset.myasset.vo.MyAssetVo" resultType="com.myasset.myasset.vo.MyAssetVo">
        SELECT *
        FROM MYASSETS
    </select>
</mapper> 